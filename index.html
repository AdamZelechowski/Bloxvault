<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BloxVault â€” Earn Gems Fast</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: linear-gradient(135deg, #ff7700, #ffbb33);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .container {
      background: #2c2c2c;
      padding: 2rem;
      border-radius: 12px;
      width: 100%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }
    h1 {
      color: #ffbb33;
      font-size: 2rem;
      margin-bottom: 10px;
    }
    p {
      color: #ddd;
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }
    .btn {
      width: 100%;
      padding: 12px;
      margin-top: 10px;
      border: none;
      border-radius: 8px;
      background: #ffbb33;
      color: #2c2c2c;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn:hover {
      background: #e6a600;
    }
    .hidden { display: none; }
    input[type="email"], input[type="text"], input[type="password"] {
      width: 100%;
      padding: 10px;
      margin: 6px 0;
      border: none;
      border-radius: 6px;
    }
    .tos-box {
      background: #1a1a1a;
      color: #ccc;
      font-size: 0.8rem;
      padding: 8px;
      margin-bottom: 8px;
      height: 80px;
      overflow-y: auto;
      border-radius: 6px;
      border: 1px solid #555;
      text-align: left;
    }
    .google-btn {
      background: #fff;
      color: #2c2c2c;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
  </style>
</head>
<body>

<div class="container">
  <!-- Landing Page -->
  <div id="landing">
    <h1>Welcome to BloxVault</h1>
    <p>Earn gems by completing offers, then redeem for Robux, crypto, and more. Safe, easy, and free!</p>
    <button class="btn" onclick="showLogin()">Login</button>
    <button class="btn" onclick="showSignup()">Sign Up</button>
  </div>

  <!-- Login Form -->
  <div id="loginForm" class="hidden">
    <h1>Login</h1>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button class="btn" onclick="login()">Login</button>
    <button class="btn google-btn" onclick="googleLogin()">
      <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="18">
      Sign in with Google
    </button>
    <button class="btn" style="background:#555; color:#fff;" onclick="showLanding()">Back</button>
  </div>

  <!-- Signup Form -->
  <div id="signupForm" class="hidden">
    <h1>Sign Up</h1>
    <input type="email" id="signupEmail" placeholder="Email">
    <input type="text" id="signupUsername" placeholder="Username">
    <input type="password" id="signupPassword" placeholder="Password">

    <div class="tos-box">
      <strong>Terms of Service:</strong><br>
      By creating an account, you agree not to misuse this platform, attempt fraudulent activity,
      or violate any applicable laws. Accounts violating these rules may be suspended or banned.
      You must be at least 13 years old to participate.
    </div>
    <label>
      <input type="checkbox" id="acceptTOS"> I accept the Terms of Service
    </label>

    <button class="btn" onclick="signup()">Create Account</button>
    <button class="btn" style="background:#555; color:#fff;" onclick="showLanding()">Back</button>
  </div>
</div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
  import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, sendEmailVerification, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "bloxvault-d1ff0.firebaseapp.com",
    projectId: "bloxvault-d1ff0",
    storageBucket: "bloxvault-d1ff0.appspot.com",
    messagingSenderId: "365008891027",
    appId: "1:365008891027:web:3578577b3c33714f207166"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Page toggles
  window.showLogin = () => {
    document.getElementById('landing').classList.add('hidden');
    document.getElementById('signupForm').classList.add('hidden');
    document.getElementById('loginForm').classList.remove('hidden');
  };
  window.showSignup = () => {
    document.getElementById('landing').classList.add('hidden');
    document.getElementById('loginForm').classList.add('hidden');
    document.getElementById('signupForm').classList.remove('hidden');
  };
  window.showLanding = () => {
    document.getElementById('loginForm').classList.add('hidden');
    document.getElementById('signupForm').classList.add('hidden');
    document.getElementById('landing').classList.remove('hidden');
  };

  // Auth functions
  window.login = () => {
    const email = document.getElementById('loginEmail').value;
    const pass = document.getElementById('loginPassword').value;
    signInWithEmailAndPassword(auth, email, pass)
      .then(() => alert("Logged in successfully!"))
      .catch(err => alert(err.message));
  };

  window.signup = () => {
    const email = document.getElementById('signupEmail').value;
    const pass = document.getElementById('signupPassword').value;
    const tos = document.getElementById('acceptTOS').checked;
    if (!tos) { alert("You must accept the Terms of Service."); return; }
    createUserWithEmailAndPassword(auth, email, pass)
      .then(userCred => {
        sendEmailVerification(userCred.user);
        alert("Account created! Please verify your email before logging in.");
        showLogin();
      })
      .catch(err => alert(err.message));
  };

  window.googleLogin = () => {
    const provider = new GoogleAuthProvider();
    signInWithPopup(auth, provider)
      .then(() => alert("Logged in with Google!"))
      .catch(err => alert(err.message));
  };
</script>
</body>
</html>
